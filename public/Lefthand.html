<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="icon-192.png" type="image/png">
  <title>BMO — Левая рука</title>
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      background: #f0f9ff;
      color: #333;
      line-height: 1.6;
      padding: 20px;
      min-height: 100vh;
    }

    /* ЕДИНЫЙ ПЕРЕКЛЮЧАТЕЛЬ ЯЗЫКА */
    .lang-switch {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
      background: rgba(255,255,255,0.9);
      backdrop-filter: blur(10px);
      border-radius: 30px;
      padding: 8px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
      display: flex;
      gap: 8px;
    }
    .lang-btn {
      padding: 10px 18px;
      border: none;
      background: transparent;
      font-weight: bold;
      font-size: 16px;
      cursor: pointer;
      border-radius: 25px;
      transition: all 0.3s;
    }
    .lang-btn.active {
      background: #0ea5e9;
      color: white;
    }
    .lang-btn:hover:not(.active) { background: rgba(14,165,233,0.2); }

    header {
      background: linear-gradient(135deg, #0ea5e9, #38bdf8);
      color: white;
      text-align: center;
      padding: 50px 20px;
      border-radius: 16px;
      margin-bottom: 20px;
    }
    h1 { font-size: 2.8rem; margin-bottom: 10px; }

    .container {
      max-width: 880px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      box-shadow: 0 15px 45px rgba(0,0,0,0.12);
      padding: 40px;
    }
    .section { margin-bottom: 32px; }
    label { font-size: 1.15rem; font-weight: 600; display: block; margin-bottom: 10px; }
    select, button {
      width: 100%; padding: 16px; margin: 12px 0; border-radius: 12px; border: 1px solid #ccc; font-size: 16px;
    }
    button {
      background: #0ea5e9; color: white; border: none; font-weight: bold; cursor: pointer; transition: 0.3s;
    }
    button:hover { background: #0284c7; }

    .recommendation {
      background: #e0f2fe; padding: 24px; border-radius: 12px; margin-top: 25px;
      border-left: 6px solid #0ea5e9; font-size: 1.05rem; line-height: 1.8;
    }
    .warning {
      color: #7f1d1d; font-weight: bold; font-size: 1.4rem;
      background: #fee2e2; padding: 18px; border-radius: 12px; margin: 15px 0;
      text-align: center; border: 2px solid #fca5a5;
    }
    footer {
      text-align: center; padding: 30px; background: #e0f2fe;
      border-radius: 16px; margin-top: 40px; color: #555;
    }
  </style>
</head>
<body>

  <!-- Переключатель языка -->
  <div class="lang-switch">
    <button class="lang-btn" data-lang="ru">RU</button>
    <button class="lang-btn" data-lang="en">EN</button>
  </div>

  <header>
    <h1 data-ru="Левая рука – Где болит?" data-en="Left Arm – Where Does It Hurt?">Левая рука – Где болит?</h1>
    <p data-ru="Помощник при боли, онемении, слабости в левой руке<br><strong style='background:#7f1d1d;padding:6px 12px;border-radius:10px'>Внезапная боль в груди + отдаёт в левую руку + одышка + пот → СКОРАЯ 103/112 СЕЙЧАС!</strong>"
       data-en="Helper for pain, numbness, weakness in left arm<br><strong style='background:#7f1d1d;padding:6px 12px;border-radius:10px'>Sudden chest pain radiating to left arm + shortness of breath + sweating → CALL 911 NOW!</strong>">
    </p>
  </header>

  <div class="container">

    <div class="section">
      <label data-ru="Где и как болит:" data-en="Where and how it hurts:">Где и как болит:</label>
      <select id="painType">
        <option value="shoulder"        data-ru="Плечо / надплечье" data-en="Shoulder / upper arm"></option>
        <option value="arm"             data-ru="Вся рука / предплечье" data-en="Whole arm / forearm"></option>
        <option value="elbow"           data-ru="Локоть" data-en="Elbow"></option>
        <option value="wrist_hand"      data-ru="Кисть / запястье / пальцы" data-en="Wrist / hand / fingers"></option>
        <option value="numbness"        data-ru="Онемение / покалывание (без сильной боли)" data-en="Numbness / tingling (no severe pain)"></option>
        <option value="chest_radiating" data-ru="Боль из груди отдаёт в руку" data-en="Pain from chest radiates to arm"></option>
        <option value="neck_radiating"  data-ru="Боль из шеи отдаёт в руку" data-en="Pain from neck radiates to arm"></option>
        <option value="other"           data-ru="Другое / не пойму" data-en="Other / unclear"></option>
      </select>
    </div>

    <div class="section">
      <label data-ru="Вероятная причина:" data-en="Likely cause:">Вероятная причина:</label>
      <select id="disease">
        <option value="periarthritis"      data-type="shoulder"        data-ru="Плечелопаточный периартрит" data-en="Shoulder periarthritis"></option>
        <option value="rotator"            data-type="shoulder"        data-ru="Повреждение ротаторной манжеты" data-en="Rotator cuff injury"></option>
        <option value="frozen_shoulder"    data-type="shoulder"        data-ru="«Замороженное» плечо" data-en="Frozen shoulder"></option>

        <option value="muscle_strain"      data-type="arm"             data-ru="Мышечное перенапряжение / миозит" data-en="Muscle strain / myositis"></option>
        <option value="tennis_elbow"       data-type="elbow"           data-ru="Латеральный эпикондилит («теннисный локоть»)" data-en="Tennis elbow"></option>
        <option value="golfer_elbow"       data-type="elbow"           data-ru="Медиальный эпикондилит" data-en="Golfer's elbow"></option>

        <option value="carpal"             data-type="wrist_hand"      data-ru="Синдром запястного канала" data-en="Carpal tunnel syndrome"></option>
        <option value="arthritis_hand"     data-type="wrist_hand"      data-ru="Артрит / артроз кисти" data-en="Hand arthritis / osteoarthritis"></option>

        <option value="cervical_radiculopathy" data-type="numbness"     data-ru="Шейная радикулопатия (грыжа С5–С7)" data-en="Cervical radiculopathy (C5–C7 herniation)"></option>
        <option value="ulnar_neuropathy"      data-type="numbness"     data-ru="Невропатия локтевого нерва" data-en="Ulnar nerve neuropathy"></option>

        <option value="angina"             data-type="chest_radiating" data-ru="Стенокардия" data-en="Angina pectoris"></option>
        <option value="heart_attack"       data-type="chest_radiating" data-ru="Инфаркт миокарда" data-en="Heart attack"></option>

        <option value="cervical_osteo"     data-type="neck_radiating"  data-ru="Шейный остеохондроз с корешковым синдромом" data-en="Cervical osteochondrosis with radiculopathy"></option>

        <option value="panic"              data-type="other"             data-ru="Паническая атака / стресс" data-en="Panic attack / stress"></option>
        <option value="unknown"            data-type="other"           data-ru="Неясная причина" data-en="Unclear cause"></option>
      </select>
    </div>

    <div class="section">
      <label data-ru="Сила боли / дискомфорта (0–10):" data-en="Pain / discomfort intensity (0–10):">Сила боли:</label>
      <select id="painLevel">
        <option value="0-4" data-ru="0–4 – терпимо" data-en="0–4 – tolerable"></option>
        <option value="5-7" data-ru="5–7 – мешает" data-en="5–7 – interferes"></option>
        <option value="8-10" data-ru="8–10 – очень сильная / внезапная" data-en="8–10 – very strong / sudden"></option>
      </select>
    </div>

    <button onclick="showRecommendation()" data-ru="Показать рекомендации" data-en="Show recommendations">Показать рекомендации</button>

    <div style="text-align:center;margin:40px 0;">
      <button onclick="history.back()" style="background:#4b5563;color:white;padding:14px 36px;border:none;border-radius:12px;font-weight:bold;">
        <span data-ru="НАЗАД" data-en="BACK">НАЗАД</span>
      </button>
    </div>

    <div id="recommendation" class="recommendation" style="display:none;"></div>
  </div>

  <footer data-ru="© 2025 Мини-медицинская машина | Это ориентир, а не диагноз!<br>При любой внезапной сильной боли в груди + левой руке + груди, одышке, поту — сразу 103!"
          data-en="© 2025 Mini Medical Assistant | Guide only, not a diagnosis!<br>Sudden severe chest pain radiating to left arm + shortness of breath + sweating — call 911 immediately!">
  </footer>

  <!-- УНИВЕРСАЛЬНЫЙ СКРИПТ ПЕРЕВОДА -->
  <script>
    const langBtns = document.querySelectorAll('.lang-btn');
    const translatable = document.querySelectorAll('[data-ru][data-en]');

    let currentLang = 'ru';

    function updateAllTexts() {
      translatable.forEach(el => el.innerHTML = el.dataset[currentLang]);
      document.querySelectorAll('option[data-ru][data-en]').forEach(opt => opt.textContent = opt.dataset[currentLang]);
      document.title = document.querySelector('h1').dataset[currentLang] + ' — BMO';
      document.documentElement.lang = currentLang;
      filterDiseases();
    }

    function setLanguage(lang) {
      currentLang = lang;
      localStorage.setItem('lang', lang);
      langBtns.forEach(b => b.classList.toggle('active', b.dataset.lang === lang));
      updateAllTexts();
    }

    langBtns.forEach(btn => btn.addEventListener('click', () => setLanguage(btn.dataset.lang)));

    currentLang = localStorage.getItem('lang') || 'ru';
    setLanguage(currentLang);

    function filterDiseases() {
      const type = document.getElementById('painType').value;
      const options = document.querySelectorAll('#disease option');

      let first = null;
      options.forEach(opt => {
        const show = opt.dataset.type === type || opt.dataset.type === 'other';
        opt.style.display = show ? 'block' : 'none';
        if (show && !first) first = opt;
      });
      if (first) document.getElementById('disease').value = first.value;
    }

    document.getElementById('painType').addEventListener('change', filterDiseases);

    function showRecommendation() {
      const disease = document.getElementById('disease').value;
      const level = document.getElementById('painLevel').value;
      const isEn = currentLang === 'en';

      let rec = `<strong>${isEn ? 'Intensity' : 'Сила'}:</strong> ${document.querySelector('#painLevel').selectedOptions[0].textContent}<br><br>`;

      const emergency = disease === 'heart_attack' || 
                        (disease === 'angina' && level === '8-10') ||
                        (document.getElementById('painType').value === 'chest_radiating' && level === '8-10');

      if (emergency) {
        rec += isEn
          ? `<div class="warning">CALL 911 IMMEDIATELY!<br>Possible heart attack or unstable angina!<br>Until help arrives: complete rest, nitroglycerin under tongue (if prescribed), chew aspirin 325 mg.</div>`
          : `<div class="warning">ВЫЗЫВАЙТЕ СКОРУЮ 103/112 ПРЯМО СЕЙЧАС!<br>Возможен инфаркт или нестабильная стенокардия!<br>До приезда: покой, нитроглицерин под язык, разжевать аспирин 300–500 мг.</div>`;
      }

      const advice = isEn ? {
        periarthritis: "Shoulder periarthritis:<br>• NSAIDs (Ibuprofen gel)<br>• Therapeutic exercises<br>• Physiotherapy, massage",
        rotator: "Rotator cuff injury:<br>• Rest 5–7 days, ice<br>• Then exercises, PRP injections if needed",
        frozen_shoulder: "Frozen shoulder:<br>• Gradual stretching + NSAIDs<br>• Corticosteroid injections if needed",
        muscle_strain: "Muscle strain:<br>• Rest, warmth, Voltaren gel<br>• Light stretching after 2–3 days",
        tennis_elbow: "Tennis elbow:<br>• Elbow brace, ice<br>• Shockwave therapy works great",
        carpal: "Carpal tunnel syndrome:<br>• Night wrist splint, NSAIDs<br>• Numbness at night → see neurologist",
        cervical_radiculopathy: "Cervical radiculopathy:<br>• NSAIDs + B-vitamins + muscle relaxants<br>• MRI if numbness persists",
        ulnar_neuropathy: "Ulnar nerve neuropathy:<br>• Avoid 90° elbow flexion at night<br>• Splint, B-vitamins",
        angina: "Angina:<br>• Nitroglycerin under tongue<br>• See cardiologist ASAP!",
        heart_attack: "HEART ATTACK — CALL 911!",
        cervical_osteo: "Cervical osteochondrosis with radiation:<br>• NSAIDs + Mydocalm<br>• Neck exercises, orthopedic pillow",
        panic: "Panic attack:<br>• 4-7-8 breathing, magnesium<br>• Often mimics heart attack",
        unknown: "Unclear cause:<br>Start with neurologist + ECG + neck/arm vessel ultrasound."
      } : {
        periarthritis: "Плечелопаточный периартрит:<br>• НПВС (Ибупрофен, Диклофенак гель)<br>• ЛФК, физиотерапия, массаж",
        rotator: "Повреждение ротаторной манжеты:<br>• Покой 5–7 дней, холод<br>• Затем ЛФК, уколы ПРП при необходимости",
        frozen_shoulder: "«Замороженное» плечо:<br>• Постепенная растяжка + НПВС<br>• Уколы глюкокортикоидов в сустав",
        muscle_strain: "Мышечное перенапряжение:<br>• Покой, тепло, мазь Вольтарен<br>• Лёгкая растяжка через 2–3 дня",
        tennis_elbow: "Теннисный локоть:<br>• Ортез, холод<br>• Ударно-волновая терапия отлично помогает",
        carpal: "Синдром запястного канала:<br>• Ночной ортез, НПВС<br>• При онемении ночью — к неврологу",
        cervical_radiculopathy: "Шейная радикулопатия:<br>• НПВС + витамины B + миорелаксанты<br>• МРТ шеи при онемении",
        ulnar_neuropathy: "Невропатия локтевого нерва:<br>• Не сгибать локоть 90° ночью<br>• Ортез, витамины B",
        angina: "Стенокардия:<br>• Нитроглицерин под язык<br>• К кардиологу в ближайшие дни!",
        heart_attack: "ИНФАРКТ — СКОРАЯ!",
        cervical_osteo: "Шейный остеохондроз с иррадиацией:<br>• НПВС + Мидокалм<br>• ЛФК шеи, ортопедическая подушка",
        panic: "Паническая атака:<br>• Дыхание 4-7-8, магний<br>• Часто имитирует инфаркт",
        unknown: "Неясно:<br>Начните с невролога + ЭКГ + УЗИ сосудов шеи и руки."
      };

      const selectedText = document.querySelector('#disease').selectedOptions[0].textContent;
      rec += `<strong>${selectedText}:</strong><br>`;
      rec += advice[disease] || (isEn ? "See a doctor soon." : "Обратитесь к врачу.");

      document.getElementById('recommendation').innerHTML = rec;
      document.getElementById('recommendation').style.display = 'block';
    }
  </script>

  <!-- Firebase -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-analytics.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCx5luU29nUjrUxyqM50cH5hLS6hsc4KiI",
      authDomain: "bmo-001.firebaseapp.com",
      projectId: "bmo-001",
      storageBucket: "bmo-001.firebasestorage.app",
      messagingSenderId: "767001348534",
      appId: "1:767001348534:web:8a04b36126fa2253e35917",
      measurementId: "G-5Z6JJYQ92Q"
    };

    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
  </script>
</body>
</html> 